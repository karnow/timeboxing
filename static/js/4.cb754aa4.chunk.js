(this.webpackJsonptimeboxing=this.webpackJsonptimeboxing||[]).push([[4],{267:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),o=n(58),l=n(59),c=n(61),u=n(60),s=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:"",totalTimeInMinutes:""},e.handleTitleChange=function(t){e.setState({title:t.target.value})},e.handleTotalTimeInMinutesChange=function(t){e.setState({totalTimeInMinutes:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onCreate({title:e.state.title,totalTimeInMinutes:e.state.totalTimeInMinutes}),e.setState({title:"",totalTimeInMinutes:""})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"TimeboxCreator"},r.a.createElement("label",null,"Co robisz? ",r.a.createElement("input",{value:this.state.title,onChange:this.handleTitleChange,type:"text"})),r.a.createElement("br",null),r.a.createElement("label",null,"Ile minut? ",r.a.createElement("input",{value:this.state.totalTimeInMinutes,onChange:this.handleTotalTimeInMinutesChange,type:"number",step:"0.01"})),r.a.createElement("br",null),r.a.createElement("button",null,"Dodaj TimeBox"))}}]),n}(r.a.Component),m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("nast\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component);var d=function(e){var t=e.refresch,n=e.handleSearch,a=e.handleSubmit,i=e.searchQuery;return r.a.createElement("div",{className:"Timebox"},r.a.createElement("form",{onSubmit:a},r.a.createElement("label",null,"Wyszukiwanie timbox\xf3w ",r.a.createElement("input",{value:i,onChange:n,placeholder:"Search",type:"text"})),r.a.createElement("button",null,"Wyszukaj timeboxy"),r.a.createElement("button",{onClick:t},"Odswie\u017c")))},h=n(63),b=n(5);var p=Object(i.b)((function(e){return{timeboxes:Object(b.f)(e)}}))((function(e){var t=e.renderTimebox,n=e.timeboxes,a=Object(i.d)((function(e){return Object(b.g)(e)}));console.log(a);var r=Object(i.d)((function(e){return e}));return console.log(r),n.map(t)}));var f=function(e){var t=e.timebox,n=t.title,a=t.totalTimeInMinutes;if(a<=0)throw new Error("ca\u0142kowity czas musi by\u0107 wi\u0119kszy ni\u017c zero");return r.a.createElement("div",{className:"Timebox"},r.a.createElement("h3",null,n," - ",a," min. "))},v=n(62);var E=function(e){var t=e.timebox,n=e.onDelete,a=e.isEditable,i=e.onEdit,o=e.onMakeCurrent,l=t.title,c=t.totalTimeInMinutes;return r.a.createElement("div",{className:"Timebox"},r.a.createElement("h3",null,l," - ",c," min. "),r.a.createElement("button",{disabled:a,onClick:function(e){console.log("to jest zdarzenie: ",e.type),n()}},"Usu\u0144"),r.a.createElement("button",{disabled:a,onClick:i},"Zmie\u0144"),r.a.createElement("button",{disabled:a,onClick:o},"Zacznij teraz"))},g=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.title,totalTimeInMinutes:e.props.totalTimeInMinutes},e.handleTitleChange=function(t){e.setState({title:t.target.value}),console.log(e.state.title)},e.handleTotalTimeInMinutesChange=function(t){e.setState({totalTimeInMinutes:t.target.value})},e.handleSubmitForm=function(t){console.log("submit dzia\u0142a"),t.preventDefault();var n=e.state,a=n.title,r=n.totalTimeInMinutes;e.props.onUpdate(e.props.id,{id:e.props.id,title:a,totalTimeInMinutes:r})},e.handleCancel=function(){e.props.onCancel()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.totalTimeInMinutes;return console.log(this.props.id),console.log(this.state.title),r.a.createElement("div",{className:"Timebox"},r.a.createElement("form",{onSubmit:this.handleSubmitForm},r.a.createElement("input",{type:"text",onChange:this.handleTitleChange,value:t}),r.a.createElement("input",{type:"number",step:"0.01",onChange:this.handleTotalTimeInMinutesChange,value:n}),r.a.createElement("button",{type:"submit"},"edytuj"),r.a.createElement("button",{type:"button",onClick:this.handleCancel},"anuluj")))}}]),n}(r.a.Component),j=Object(i.b)((function(e,t){return{isEdited:Object(b.l)(e,t.timebox),isEditable:Object(b.i)(e)}}),(function(e,t){return{onEdit:function(){return e(Object(v.k)(t.timebox))},onCancel:function(){return e(Object(v.l)())},onMakeCurrent:function(){return e(Object(v.e)(t.timebox))}}}))((function(e){var t=e.timebox,n=e.isEdited,a=e.onEdit,i=e.onCancel,o=e.onUpdate,l=e.onDelete,c=e.isEditable,u=e.onMakeCurrent;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(g,{id:t.id,title:t.title,totalTimeInMinutes:t.totalTimeInMinutes,onUpdate:o,onCancel:i}):r.a.createElement(E,{key:t.id,timebox:t,isEditable:c,onDelete:l,onEdit:a,onMakeCurrent:u}))}));function O(e){var t=e.hasError,n=e.message,a=e.children;return t?n:a}var k=function(){var e=Object(i.c)(),t=Object(a.useContext)(h.a).accessToken,n=Object(i.d)((function(e){return Object(b.g)(e)})),o=Object(i.d)((function(e){return Object(b.a)(e)})),l=Object(i.d)((function(e){return Object(b.h)(e)})),c=Object(i.d)((function(e){return Object(b.e)(e)})),u=Object(i.d)((function(e){return Object(b.j)(e)})),E=Object(i.d)((function(e){return e}));return console.log(E),Object(a.useEffect)((function(){e(Object(v.a)(t))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{refresch:function(){return e(Object(v.h)())},handleSearch:function(t){return e(Object(v.i)(t))},handleSubmit:function(n){return e(Object(v.j)(n,t))},searchQuery:n}),r.a.createElement(O,{hasError:u,message:"POda\u0142e\u015b nie prawid\u0142ow\u0105 warto\u015b\u0107"},r.a.createElement(s,{onCreate:function(n){return e(Object(v.b)(n,t))}})),o?"Timeboxy is loading...":null,l?"Nie uda\u0142o si\u0119 za\u0142adowa\u0107":null,console.log(l),r.a.createElement(m,{message:"co\u015b si\u0119 wykrzaczy\u0142o :("},r.a.createElement(p,{renderTimebox:function(n,a){return r.a.createElement(j,{timebox:n,onUpdate:function(n,a){return e(Object(v.f)(n,a,t))},onDelete:function(){return e(Object(v.g)(n,t))}})}})),0===c.length?null:r.a.createElement(r.a.Fragment,null,console.log(c),r.a.createElement("h3",null,"Uko\u0144czone zadania"),c.map((function(e){return r.a.createElement(f,{key:e.id,timebox:e})}))))},T=n(244),y=n(65);var C=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hours:0,minutes:0,secounds:0},e.getDate=function(){e.intervalId=window.setInterval((function(){console.count("licz\u0119 zegar");var t=(new Date).getHours(),n=(new Date).getMinutes(),a=(new Date).getSeconds();e.setState({hours:t,minutes:n,secounds:a})}),1e3)},e.stopTimer=function(){window.clearInterval(e.intervalId)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getDate()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return r.a.createElement("h2",{className:"clock "},"Aktualny Czas ",r.a.createElement("span",{className:"clock__minutes"},this.state.hours),":",r.a.createElement("span",{className:"clock__minutes"},this.state.minutes),".",r.a.createElement("span",{className:"clock__secunds"},this.state.secounds))}}]),n}(r.a.Component),I=function e(t){var n=t.className,a=t.minutes,i=t.seconds;return e.defaultProps={className:"",minutes:33,secounds:11},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"clock "+n},"Pozosta\u0142o ",r.a.createElement("span",{className:"clock__minutes clock--italic"},a),r.a.createElement("span",{className:"clock__dwukropek"},":"),r.a.createElement("span",{className:"clock__secunds clock--italic"},i)),r.a.createElement(C,null))},w=n(245),S=n.n(w);var x=function(e){var t=e.className,n=void 0===t?"":t,a=e.percent,i=void 0===a?33:a,o=e.big,l=void 0!==o&&o,c=e.color,u=void 0===c?null:c,s=S()("progress",n,{"progress--big":l,"progress--color-red":"red"===u,"progress--color-blue":"blue"===u,"progress--color-green":"green"===u});return r.a.createElement("div",{className:s},r.a.createElement("div",{className:"progress__bar",style:{width:"".concat(i,"%")}}))};var M=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isRunning:!1,isPaused:!1,isFinished:!1,pausesCount:0,elpsedTimeInSecounds:0},a.handleStart=a.handleStart.bind(Object(y.a)(a)),a.handleStop=a.handleStop.bind(Object(y.a)(a)),a.togglePause=a.togglePause.bind(Object(y.a)(a)),a.intervalId=null,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.count("componentDidMount")}},{key:"componentDidUpdate",value:function(e,t){!t.isFinished&&this.state.isFinished&&this.props.onFinish(),console.count("componentDid Update")}},{key:"componentWillUnmount",value:function(){console.count("componentwillUnmount"),this.stopTimer()}},{key:"handleStart",value:function(e){this.setState({isRunning:!0}),this.startTimer()}},{key:"handleStop",value:function(e){this.setState({isRunning:!1,isPaused:!1,pausesCount:0,elpsedTimeInSecounds:0}),this.stopTimer()}},{key:"startTimer",value:function(){var e=this;null===this.intervalId&&(this.intervalId=window.setInterval((function(){console.log("timer works"),e.setState((function(t){var n=60*e.props.totalTimeInMinutes,a=Math.min(t.elpsedTimeInSecounds+.1,n),r=t.isFinished||a>=n;return r&&e.stopTimer(),{elpsedTimeInSecounds:a,isFinished:r,isRunning:t.isRunning&&!r,isPaused:t.isPaused&&!r}}))}),100))}},{key:"stopTimer",value:function(){window.clearInterval(this.intervalId),this.intervalId=null}},{key:"togglePause",value:function(){this.setState((function(e){var t=!e.isPaused;return t?this.stopTimer():this.startTimer(),{isPaused:t,pausesCount:t?e.pausesCount+1:e.pausesCount}}))}},{key:"render",value:function(){var e,t=this.state,n=t.isFinished,a=t.isPaused,i=t.isRunning,o=t.pausesCount,l=t.elpsedTimeInSecounds,c=this.props,u=c.title,s=60*c.totalTimeInMinutes,m=(e=s-l,[Math.floor(e/60),Math.floor(e%60)]),d=Object(T.a)(m,2),h=d[0],b=d[1],p=l/s*100;return r.a.createElement("div",{className:"CurrentTimebox"},r.a.createElement("h1",null,u),r.a.createElement(I,{minutes:h,seconds:b,className:a?"inactive":""}),r.a.createElement(x,{percent:p,className:a?"inactive":"",big:!0,color:"white"}),r.a.createElement("button",{onClick:this.handleStart,disabled:i||n},"Start"),r.a.createElement("button",{onClick:this.handleStop,disabled:!i},"Stop"),r.a.createElement("button",{onClick:this.togglePause,disabled:!i},a?"wzn\xf3w":"pauzuj"),"Liczba przerw: ",o)}}]),n}(r.a.Component);var z=Object(i.b)((function(e){var t=Object(b.d)(e);return console.log(t),{currentTimebox:t}}),(function(e,t){return console.log("usuwam ja mapdispachyo props"),{onFinish:function(){e(Object(v.d)(t.currentTimebox))}}}))((function(e){var t=e.currentTimebox,n=e.onFinish;if(t){var a=t.title,i=t.totalTimeInMinutes;return r.a.createElement(M,{title:a,totalTimeInMinutes:i,onFinish:n})}return null})),N=n(32),F=n.n(N),D=n(246),P=n.n(D);var _=function(e){return r.a.createElement(h.a.Consumer,null,(function(e){var t=e.accessToken;return r.a.createElement(r.a.Fragment,null," Witaj ",function(e){return P.a.decode(e).email}(t)," ")}))};var U=function(e){var t=e.children;if(r.a.Children.count(t)<1)throw new Error("Header har to have at least one child");return r.a.createElement("header",{className:"header"},r.a.createElement(W,null,r.a.createElement("h5",{style:{textAlign:"center"}},"The cake is a like - this is Portal")),r.a.createElement(_,null),t)};function W(e){var t=e.children;return r.a.createElement(A,null,t)}var A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).container=document.createElement("div"),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.body.prepend(this.container)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.container)}},{key:"render",value:function(){return F.a.createPortal(this.props.children,this.container)}}]),n}(r.a.Component),R=n(265);var q=function(){var e=Object(a.useState)(R.getQuote()),t=Object(T.a)(e,2),n=t[0];return t[1],r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{quote:n,text:n.text,author:n.author}))};function Q(e){var t=e.quote,n=e.text,a=e.author;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("figure",null,r.a.createElement("blockquote",null,n),r.a.createElement("figcaption",null,r.a.createElement("cite",null,a))):"...")}var H=n(116);t.default=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(H.a.Consumer,null,(function(e){var t=e.Logout;return r.a.createElement(r.a.Fragment,null," ",r.a.createElement("a",{onClick:t,className:"header__logout-link",href:"#"}," Wyloguj si\u0119")," ")}))),r.a.createElement(k,null),r.a.createElement(z,null),r.a.createElement(q,null))}}}]);
//# sourceMappingURL=4.cb754aa4.chunk.js.map