{"version":3,"sources":["contexts/LogoutContext.js","components/LoginForm.js","api/FakeAuthenticationApi.js","components/App.js","index.js","reducers.js","api/FakeTimeboxesApi.js","actions.js","contexts/AuthenticationContext.js"],"names":["LogoutContext","React","createContext","Logout","LoginForm","errorMessage","onLoginAttempt","emailInput","useRef","passwordInput","onSubmit","event","preventDefault","email","current","value","password","className","ref","type","defaultValue","FakeAuthenticationApi","login","credentials","a","accessToken","Error","AuthentiactedApp","lazy","App","state","previousLoginAttemptFailed","isUserLoggedIn","handleLogout","localStorage","removeItem","setState","console","log","props","deleteFinishTime","handleLoginAttempt","AuthenticationApi","then","setItem","catch","currentToken","getItem","this","AuthenticationContext","Provider","Suspense","fallback","Component","connect","timeboxesFinished","getFinishedTimboxes","dispatch","deleteFinishTimeboxes","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById","initialState2","searchQuery","timeboxesCopi","combineReducers","first","action","currentTimeboxID","currentyTimeboxIdReducer","timeboxes","timeboxesReducer","currentlyEditedTimeboxId","currentlyEditedTimeboxIdReducer","isEditable","isEditableReducer","loading","loadingReducer","error","errorReducer","hasError","hasErrorReducer","secound","timebox","timeboxesed","id","indexToRemove","filter","replacedTimebox","map","title","toLowerCase","includes","getAllTimeboxes","getRemainingTimeboxes","areTimeboxesLoading","getTimeboxesLoadingError","hasErrorSelv","isTimeboxEdited","getSearchQuery","getCopiTimeboxes","getisEditable","isAnyTimeboxCurrent","getCurrentTimebox","getTimeboxByID","timeboxId","find","wait","ms","Promise","resolve","setTimeout","totalTimeInMinutes","isEdit","findIndexByAnId","result","findIndex","FakeTimeboxesApi","addTimebox","timeboxToAdd","addedTimebox","v4","push","replaceTimebox","timeboxToReplace","index","removeTimebox","timeboxToRemove","stopEditingTimebox","startEditingTimebox","addTimeboxFinished","searchTimebox","target","makeTimeboxCurrent","finishCurrentTimebox","getState","searchTimeboxResult","resetSearchAndCopiesTimeboxes","resetSearch","axiosAllTimeboxes","TimeboxesApi","setTimeboxes","reject","setError","finally","removeTimeboxRemontly","e","createTimeboxRemontly","createdTimebox","onUpdateRemontly","indexToUpdate","updateTimebox"],"mappings":"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","file":"static/js/main.2f4f4229.chunk.js","sourcesContent":["import React from \"react\";\n\n\nconst LogoutContext = React.createContext({Logout : null});\n\nexport default LogoutContext;","// import React from 'react'; \n\n\n// //  //Formularz niekontrolowany przez Reacta\n// class LoginForm extends React.Component {\n\n//     constructor(props) {\n//         super(props)\n//         this.emailInput = React.createRef();\n//         this.passordInput=React.createRef();\n//     }\n\n\n// handleSubmit =(event) => {\n//                             event.preventDefault(); \n//                             this.props.onLoginAttempt({ email:this.emailInput.current.value , password:this.passordInput.current.value});\n                            \n//                             this.emailInput.current.value=\"\";\n//                             this.passordInput.current.value=\"\";\n// }\n\n// render () {\n// return ( <form onSubmit={this.handleSubmit} className=\"LoginForm\">\n//         {this.props.errorMessage ?\n//         <div className=\"LoginForm__error-message\">{this.props.errorMessage}</div> : null\n//         }\n        \n//         <label>Podaj użytkownika? <input ref={this.emailInput} type=\"text\" defaultValue=\"bob@example.com\" /></label><br />\n//         <label>Podaj hasło <input ref={this.passordInput} type=\"password\" defaultValue=\"secret\" /></label><br />\n//         <button>Zaloguj się</button>\n//     </form>\n//     )}\n// }\n\n//formularz z użyciem hooka useRef\nimport React, { useRef } from \"react\";\n\nfunction LoginForm({ errorMessage, onLoginAttempt }) {\n  const emailInput = useRef();\n  const passwordInput = useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onLoginAttempt({\n      email: emailInput.current.value,\n      password: passwordInput.current.value\n    });\n    emailInput.current.value = \"\";\n    passwordInput.current.value = \"\";\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"LoginForm\">\n      {errorMessage ? (\n        <div className=\"LoginForm__error-message\">{errorMessage}</div>\n      ) : null}\n      <label>\n        Email\n        <input ref={emailInput} type=\"text\" defaultValue=\"bob@example.com\" />\n      </label>\n      <br />\n      <label>\n        Hasło\n        <input ref={passwordInput} type=\"password\" defaultValue=\"secret\" />\n      </label>\n      <br />\n      <button>Zaloguj się</button>\n    </form>\n  );\n}\n\n\n\n\n\n\nexport default LoginForm;","\n\n\n//utworzony modół\nconst FakeAuthenticationApi = {\n   \n    login: async function(credentials){\n        const {email, password} = credentials\n        if (email === \"bob@example.com\" && password === \"secret\") {\n\n            return {\n                accessToken: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJvYkBleGFtcGxlLmNvbSIsImlhdCI6MTYwNzUwNDU2NiwiZXhwIjoxNjA3NTA4MTY2LCJzdWIiOiIxIn0.w9aIezqtop9r_xDXrzw6fuf5tL2TsLhP00vlDaLOvMA\"\n            }\n        }\n         throw new Error (\"Invalid credentials\");\n    }\n    \n     \n}\n \n\nexport default FakeAuthenticationApi;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { deleteFinishTimeboxes } from \"../actions\";\nimport { getFinishedTimboxes } from \"../reducers\";\nimport LoginForm from \"./LoginForm\";\nimport AuthenticationApi from \"../api/FakeAuthenticationApi\";\nimport AuthenticationContext from \"../contexts/AuthenticationContext\";\nimport LogoutContext from \"../contexts/LogoutContext\";\nconst AuthentiactedApp =\n  React.lazy(() =>\n    import(\n      \"./AuthentiactedApp\"\n    )\n  );\n\nclass App extends React.Component {\n  state = {\n    accessToken: null,\n    previousLoginAttemptFailed: false,\n  };\n\n  componentDidMount() {\n    const currentToken =\n      localStorage.getItem(\n        \"userTimebox\"\n      );\n    console.log(currentToken);\n    this.setState({\n      accessToken:\n        currentToken,\n    });\n  }\n\n  isUserLoggedIn = () => {\n    return this.state\n      .accessToken;\n  };\n\n  handleLogout = () => {\n    localStorage.removeItem(\n      \"userTimebox\"\n    );\n\n    this.setState({\n      accessToken: null,\n      previousLoginAttemptFailed: false,\n    });\n    console.log(\n      this.state.accessToken\n    );\n    this.props.deleteFinishTime();\n  };\n\n  handleLoginAttempt = (\n    credentials\n  ) => {\n    console.log(credentials);\n    AuthenticationApi.login(\n      credentials\n    )\n      .then(\n        ({ accessToken }) => {\n          console.log(\n            accessToken\n          );\n\n          localStorage.setItem(\n            \"userTimebox\",\n            accessToken\n          );\n\n          this.setState({\n            accessToken:\n              accessToken,\n            previousLoginAttemptFailed: false,\n          });\n        }\n      )\n      .catch(() => {\n        this.setState({\n          previousLoginAttemptFailed: true,\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.isUserLoggedIn() ? (\n          <AuthenticationContext.Provider\n            value={{\n              accessToken:\n                this.state\n                  .accessToken,\n            }}\n          >\n            <LogoutContext.Provider\n              value={{\n                Logout:\n                  this\n                    .handleLogout,\n              }}\n            >\n              <React.Suspense\n                fallback={\n                  \"...loading\"\n                }\n              >\n                <AuthentiactedApp />\n              </React.Suspense>\n            </LogoutContext.Provider>\n          </AuthenticationContext.Provider>\n        ) : (\n          <LoginForm\n            errorMessage={\n              this.state\n                .previousLoginAttemptFailed\n                ? \"Nie udało się zalogować\"\n                : null\n            }\n            onLoginAttempt={\n              this\n                .handleLoginAttempt\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(\n  dispatch\n) {\n  const deleteFinishTime =\n    () => {\n      dispatch(\n        deleteFinishTimeboxes()\n      );\n    };\n\n  return { deleteFinishTime };\n}\n\nexport default connect(\n  (state) => ({\n    timeboxesFinished:\n      getFinishedTimboxes(\n        state\n      ),\n  }),\n  mapDispatchToProps\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from \"redux-thunk\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport {Provider} from \"react-redux\";\n\nimport App from './components/App';\nimport { rootReducer } from './reducers';\nimport './styles/main.scss';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nReactDOM.render(\n\n<Provider store={store}>\n<App/>\n</Provider>\n,\ndocument.getElementById(\"root\"));","\nimport {combineReducers} from 'redux';\n\n// const initialState={\n//     currentTimeboxID:null,\n//     isEditable:false, \n//     timeboxes:[],\n//     hasError:false,\n//     loading:true,\n//     error:null,\n//     currentlyEditedTimeboxId: null,\n    \n// }\n\nconst initialState2= {\n    searchQuery:\"\",\n    timeboxesFinished:[],\n    timeboxesCopi:[]\n}\n\nexport const rootReducer = combineReducers ({\nfirst: firstReducer,\nsecound: secondReducer\n});\n\n// function secondReducer(state={}, action) {\n   \n//     return {\n//         searchQuery: searchReducer(state.searchQuery, action) \n//     }\n// }\n\nfunction secondReducer(state=initialState2, action) {\n    switch(action.type) {\n        case \"ADD_TIMEBOX_FINISHED\":{\n            const {timebox} = action;\n            const timeboxesFinished = [...state.timeboxesFinished, timebox]\n            return {...state, timeboxesFinished};\n        }\n        case \"DELETE_FINISHED_TIMEBOXES\":{\n            return {...state, timeboxesFinished:[]}\n        }\n\n        case \"CHANGE_SEARCH_QUERY\":{\n            const {searchQuery} =action;\n            return {...state,searchQuery}\n        }\n        \n        case \"SEARCH_RESET\": {\n           return {...state, searchQuery:\"\"}\n        }\n\n        case \"RESET_TIMEBOXES_COPI\": {\n            return {...state, timeboxesCopi:[]}\n        }\n\n        case \"SEARCH_RESULT\": {\n            const {timeboxesed, searchQuery} = action;\n            console.log(timeboxesed)\n            \n            return {...state, timeboxesCopi: timeboxesed}\n        }\n        default:{\n            return state;\n        }\n    }\n}\n\n\n// function secondReducer(state={}, action) {\n   \n//     return {\n//         searchQuery: searchReducer(state.searchQuery, action) \n//     }\n// }\n\n// function searchReducer(state=\"\", action) {\n//     switch(action.type) {\n\n//         case \"CHANGE_SEARCH_QUERY\":{\n//             const {searchQuery} =action;\n//             return searchQuery\n//         }\n        \n//         case \"SEARCH_RESET\": {\n//            return \"\";\n//         }\n//         default:\n//             return state;\n//         }\n// }\n\n\nfunction firstReducer (state={}, action) {\n\n    return {\n        currentTimeboxID: currentyTimeboxIdReducer(state.currentTimeboxID, action),\n        timeboxes: timeboxesReducer(state.timeboxes, action),\n        // timeboxesFinished: timeboxesFinishedReducer(state.timeboxesFinished, action),\n        currentlyEditedTimeboxId: currentlyEditedTimeboxIdReducer(state.currentlyEditedTimeboxId, action),\n        isEditable: isEditableReducer(state.isEditable, action),\n        loading: loadingReducer(state.loading, action),\n        error: errorReducer(state.error, action),\n        hasError: hasErrorReducer(state.hasError, action)\n\n    }\n}\n// function timeboxesFinishedReducer(state=[], action) {\n//     switch (action.type) {\n//         case \"ADD_TIMEBOX_FINISHED\": {\n//             const {timebox}=action;\n//             console.log(timebox);\n//             const timeboxesFinished = [...state, timebox]\n//             console.log(timeboxesFinished, \"to ja reduktor timeboxesFinishedReducer\");\n//             return timeboxesFinished;\n//         }\n\n//     }\n// }\n\nfunction currentyTimeboxIdReducer(state=null, action) {\n    switch (action.type) {\n        case \"TIMEBOX_MAKE_CURRENT\": {\n            const {timebox}=action;\n            return timebox.id;\n        }\n        case \"TIMEBOX_REMOVE\": {\n            const {indexToRemove} = action;            \n            const currentTimeboxID = state === indexToRemove.id ? null: state;\n            return currentTimeboxID;\n        }\n        default :{\n            return state;\n        }\n    }\n}\nfunction timeboxesReducer(state=[], action) {\n    switch (action.type) {\n\n        case \"TIMEBOXES_SET\": {\n            const {timeboxes} = action;\n            return timeboxes;\n        }\n        case \"TIMEBOX_ADD\":{\n            const {timebox} = action;\n            const timeboxes = [...state, timebox]\n            \n            return timeboxes;\n        }\n        case \"TIMEBOX_REMOVE\": {\n            const {indexToRemove} = action;\n            const timeboxes = state.filter((timebox) => timebox.id !== indexToRemove.id);            \n            return timeboxes;\n        }\n        case \"TIMEBOX_REPLACE\": {\n            const {replacedTimebox} = action;\n            const timeboxes = state.map((timebox) =>\n            timebox.id === replacedTimebox.id ? replacedTimebox : timebox)\n            return timeboxes;\n        }\n        case \"SEARCH_RESULT\": {\n            const {timeboxesed, searchQuery} = action;\n            console.log(timeboxesed)\n            console.log(searchQuery)\n            const timeboxes = timeboxesed.filter((timebox) => timebox.title.toLowerCase().includes(searchQuery.toLowerCase()))\n            return timeboxes\n        }\n        case \"SEARCH_RESET\":{\n            const {timeboxes} = action;\n            return timeboxes;\n        }\n        \n        default :{\n            return state;\n        }\n    }\n}\n\nfunction currentlyEditedTimeboxIdReducer(state=null, action) {\n    switch (action.type) {\n        case \"TIMEBOX_EDIT_STOP\": {\n            return null;\n        }\n        case \"TIMEBOX_EDIT_START\": {\n            const {currentlyEditedTimeboxId} = action;\n            return currentlyEditedTimeboxId;\n        }\n        case \"TIMEBOXES_EDITABLE\": {\n            return null\n        }\n               \n        default :{\n            return state;\n        }\n    }\n}\nfunction isEditableReducer(state=false, action) {\n    switch (action.type) {\n        \n        case \"TIMEBOX_EDIT_STOP\": {\n            return false;\n        }\n        case \"TIMEBOX_EDIT_START\": {\n            \n            return true\n        }\n        case \"TIMEBOXES_EDITABLE\": {\n            return false;\n        }\n               \n        default :{\n            return state;\n        }\n    }\n}\nfunction loadingReducer(state=true, action) {\n    switch (action.type) {\n        \n        case \"LOADING_INDICATOR_DISABLE\":{\n            return false;\n        }\n              \n        default :{\n            return state;\n        }\n    }\n}\nfunction errorReducer(state=null, action) {\n    switch (action.type) {\n        case \"ERROR_SET\":{\n            const {error} =action\n            return error;            \n        }\n              \n        default :{\n            return state;\n        }\n    }\n}\nfunction hasErrorReducer(state=false, action) {\n    switch (action.type) {\n        case \"ERROR_SELV\": {\n\n            return true\n        }\n              \n        default :{\n            return state;\n        }\n    }\n\n}\n\n\n\n\n        \n\n    \n\n//Selectory\nexport const getAllTimeboxes = (state) => state.first.timeboxes; \nexport const getRemainingTimeboxes =(state) => state.first.timeboxes.filter(timebox => timebox.id !== state.first.currentTimeboxID);\nexport const areTimeboxesLoading = (state) => state.first.loading;\nexport const getTimeboxesLoadingError = (state) => state.first.error;\nexport const hasErrorSelv =(state)=>state.first.hasError;\nexport const isTimeboxEdited = (state, timebox) => state.first.currentlyEditedTimeboxId && state.first.currentlyEditedTimeboxId === timebox.id;\nexport const getSearchQuery =(state) => state.secound.searchQuery;\nexport const getCopiTimeboxes =(state) => state.secound.timeboxesCopi;\nexport const getisEditable =(state)=> state.first.isEditable;\nexport const isAnyTimeboxCurrent =(state)=>!!state.first.currentTimeboxID;\nexport const getCurrentTimebox =(state)=> isAnyTimeboxCurrent(state) ?  getTimeboxByID(state, state.first.currentTimeboxID) : null;\nexport const getFinishedTimboxes = (state)=>state.secound.timeboxesFinished; \n\n\n/// przykład selektora wyszkującego dany timebox po id\nexport const getTimeboxByID = (state, timeboxId) => state.first.timeboxes.find(timebox => timebox.id === timeboxId);\n//użycie powyższego selektora do wyciagniecia aktualnego edytowanego timeboxa\nexport const getCurrentlyEditedTimebox =(state) => getTimeboxByID(state, state.first.currentlyEditedTimeboxId); \n//czy jakikolwiek timebox jest edytowany\nexport const isAnyTimeboxEdited = (state) =>!!state.first.currentlyEditedTimeboxId;\n\n","import v4 from 'uuid/dist/esm-node/v4.js';\n\nfunction wait (ms=1000) {\n    return new Promise(\n        (resolve) =>{\n            setTimeout(resolve, ms)\n        }\n    )\n}\n\nconst timeboxes = [\n    { id:\"a\", title: \"uczę się list\", totalTimeInMinutes:25, isEdit:false},\n    { id:\"b\", title: \"uczę się formularzy\", totalTimeInMinutes:15 ,isEdit:false},\n    { id:\"c\", title: \"uczę się komponentów niekontrolowanych\", totalTimeInMinutes:5 ,isEdit:false}\n]\n\nfunction findIndexByAnId(id) {\n    const result = timeboxes.findIndex((timebox)=> timebox.id == id)\n    if (result <0) {\n        throw new Error ('Timbox o podanym id nie istnieje');\n    }\n    return result;\n}\n\n//utworzony modół\nconst FakeTimeboxesApi = {\n    getAllTimeboxes: async function(){\n        await wait(200);\n        console.log('GET all :', timeboxes)\n        // throw new Error(\"Something went wrong\");\n        return [...timeboxes];\n    },\n    addTimebox: async function(timeboxToAdd){\n        await wait(200);\n        const addedTimebox={...timeboxToAdd, id: v4()}\n        console.log('POST :', timeboxes)\n        timeboxes.push(addedTimebox);\n        return addedTimebox;   \n    },\n    replaceTimebox: async function(timeboxToReplace) {\n        await wait(200);\n        if (!timeboxToReplace.id) {\n            throw new Error('cannot replace timebox without an id');\n        }\n        const index = findIndexByAnId(timeboxToReplace.id);\n        const replaceTimebox ={...timeboxToReplace};\n        timeboxes[index]= replaceTimebox;\n        console.log('PUT :', timeboxes)\n        return replaceTimebox;\n\n    },\n    removeTimebox: async function(timeboxToRemove) {\n        await wait(200);\n        console.log(timeboxToRemove);\n        if (! timeboxToRemove) {\n            throw new Error('cannot remove timebox without an id');\n        }\n        // const index = findIndexByAnId(timeboxToRemove);\n        // console.log(index);\n        // timeboxes.splice(index, 1);\n        // console.log('DELETE:', timeboxes)\n        return (timeboxToRemove)\n    },\n    \n}\n\nexport default FakeTimeboxesApi;","import TimeboxesApi from './api/FakeTimeboxesApi';\nimport { getCurrentTimebox, isAnyTimeboxCurrent,getSearchQuery, getAllTimeboxes, getCopiTimeboxes} from './reducers';\n\n\n// generatory akcji\nexport const setTimeboxes = (timeboxes) => ({type:\"TIMEBOXES_SET\", timeboxes });\nexport const setError = error => ({type: \"ERROR_SET\", error});\nexport const disableLoadingIndicator = ()=> ({type: \"LOADING_INDICATOR_DISABLE\"});\nexport const addTimebox = (timebox) => ({type:\"TIMEBOX_ADD\", timebox});\nexport const removeTimebox =(timebox)=> ({type: \"TIMEBOX_REMOVE\", indexToRemove: timebox})\nexport const replaceTimebox = (replacedTimebox) => ({type: \"TIMEBOX_REPLACE\", replacedTimebox});\nexport const timeboxEditable = () => ({type: \"TIMEBOXES_EDITABLE\"});\nexport const stopEditingTimebox = () => ({ type:\"TIMEBOX_EDIT_STOP\"});\nexport const startEditingTimebox = (timebox) => ({ type:\"TIMEBOX_EDIT_START\", currentlyEditedTimeboxId: timebox.id});\n//ukonczone timeboxy\nexport const addTimeboxFinished = (timebox) => ({type:\"ADD_TIMEBOX_FINISHED\", timebox});\nexport const deleteFinishTimeboxes = () => ({type:\"DELETE_FINISHED_TIMEBOXES\"});\n\nexport const resetSearch = (timeboxes) => ({type: \"SEARCH_RESET\", timeboxes});\nexport const resetTimeboxesCopi =()=>({type: \"RESET_TIMEBOXES_COPI\"});\n//generator wpisywania\nexport const searchTimebox = (event) => ({type: \"CHANGE_SEARCH_QUERY\", searchQuery: event.target.value});\nexport const searchResult = (timeboxesed,searchQuery) => ({type: \"SEARCH_RESULT\", timeboxesed, searchQuery});\n\n\nexport const makeTimeboxCurrent =(timebox)=>({type: \"TIMEBOX_MAKE_CURRENT\", timebox});\n\n//w poniższym generatorze wykorzystnie thunk'a\nexport const finishCurrentTimebox = () =>(dispatch, getState) => {\n    if (isAnyTimeboxCurrent(getState())) {\n       \n        console.log(getCurrentTimebox(getState()));\n        dispatch(addTimeboxFinished(getCurrentTimebox(getState())));\n        dispatch(removeTimebox(getCurrentTimebox(getState()))); \n    }\n}\n\n//akcja dla wyszukiwania timeboxow\nexport const searchTimeboxResult = (event,accessToken) =>(dispatch, getState) => {\n    event.preventDefault(); \n    console.log(getSearchQuery(getState()));\n    console.log(getAllTimeboxes(getState()));\n          \n    dispatch(searchResult(getAllTimeboxes(getState()),getSearchQuery(getState())));\n    \n}\n// akcja resetu timeboxów i kopiowanie timebox'w z kopi do stanu\nexport const resetSearchAndCopiesTimeboxes = () =>(dispatch, getState) => {\n    \n              \n    dispatch(resetSearch(getCopiTimeboxes(getState())));\n    dispatch(resetTimeboxesCopi());\n    \n}\n\n\n\n\nexport const axiosAllTimeboxes = (accessToken) =>(dispatch)=>{\n    TimeboxesApi.getAllTimeboxes(accessToken)\n    .then(\n        (timeboxes)=> dispatch(setTimeboxes(timeboxes))\n        )      \n    .catch(\n        (error)=> Promise.reject(dispatch(setError(error))))\n    .finally(\n        ()=>dispatch(disableLoadingIndicator()))\n}\n\nexport const removeTimeboxRemontly =(timebox, accessToken)=> (dispatch) =>{\n    console.log(timebox);\n    TimeboxesApi.removeTimebox(timebox, accessToken)\n            .then((timebox)=>{ dispatch(removeTimebox(timebox))\n                console.log(timebox);\n                dispatch(addTimeboxFinished(timebox))}\n                ).catch((e) => console.log('Błąd :',e));\n\n}\n\nexport const createTimeboxRemontly = (createdTimebox, accessToken)=> (dispatch) => {\n\n    try {\n        TimeboxesApi.addTimebox(createdTimebox, accessToken)\n        .then(\n            (addedTimebox)=>dispatch(addTimebox(addedTimebox))\n            )\n        \n    } catch (error) {\n    \n        console.log(\"jest błąd przy tworzeniu timeboxa\", error);\n        dispatch({type: \"ERROR_SELV\"})\n    }\n}\n\nexport const onUpdateRemontly = (indexToUpdate, updateTimebox,accessToken)=>(dispatch)=> {\n    console.log(indexToUpdate);\n        TimeboxesApi.replaceTimebox(updateTimebox, accessToken)\n        .then((replacedTimebox)=> dispatch(replaceTimebox(replacedTimebox))\n\n        ).finally(()=>dispatch(timeboxEditable()))\n\n}","import React from \"react\";\n\n\nconst AuthenticationContext = React.createContext({accessToken : null});\n\nexport default AuthenticationContext;"],"sourceRoot":""}